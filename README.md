# Telegram bot subscriber 2023

Простой бот в Telegram для управления платными подписками на канал
- Backend, rest api.
- Стэк - kotlin, ktor, postgresql, openApi, konform.

## Через бота можно будет:
1. получить полную информацию о канале;
2. получить демо-доступ на канал. 
Пользователь в автоматическом режиме получит ссылку на вступление в приватный канал. 
Через n дней демо-доступа пользователь будет удалён из канала;
3. выдать полный доступ для пользователей. 
Пользователь сможет отправить данные для получения полного доступа. 
Данные могут быть проверены как в автоматическом режиме, так и в ручном — самим администратором. 
По итогам пользователю выдаётся полный доступ.

## Реализуем поддержку 5 команд:
- /start — приветствие, нужна для первого сообщения с ботом;
- /info — запрос информации о боте и канале;
- /demo — получение демо-доступа на канал;
- /access — запрос на получение информации о полном доступе;
- /success — запрос на получение полного доступа.

Чтобы всеми этими командами было удобно пользоваться, реализуем их в виде кнопок

## С использованием API можно будет:
1. снимать статистику

# Структура проекта
## Транспортные модели, API
1. [specs](specs) - Описание API в форме OpenAPI-спецификаций
2. [api](api) - Генерация первой версии транспортных моделей с Jackson
3. [common](common) - Модуль с общими классами для модулей проекта. В частности, там располагаются внутренние модели и контекст.
4. [mapper](mapper) - Маппер между внутренними моделями и моделями API

## Фреймворки и транспорт
1. [app-ktor](app-ktor) - Приложение на Ktor JVM

## Модули бизнес-логики
1. [lib-cor](lib-cor) - Библиотека цепочки обязанностей для бизнес-логики
2. [biz](biz) - Модуль бизнес-логики приложения (подготовка, валидация, проверка прав и выполнение cruds операции)

## Мониторинг и логирование
1. [deploy](deploy) - Инструменты мониторинга и деплоя

## Хранение, репозитории, базы данных
1. [repo-psql](repo-psql) - Репозиторий на базе PostgreSQL